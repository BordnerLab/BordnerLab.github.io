<!DOCTYPE html>
<html>

<head>
	<!-- link mapbox library -->
	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.js'></script>
	
	<!-- link mapbox styling -->
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.21.0/mapbox-gl.css' rel='stylesheet' />
	
	<!-- link font awesome -->
	<link rel="stylesheet" href="lib/font-awesome-4.6.3/css/font-awesome.min.css">
	
	<style>
		body {
			margin:0;
			padding:0;
			overflow:hidden;
		}
		
		#map {
			position: absolute;
			top:0;
			bottom: 0;
			width:100%;
			height:100%;
		}
		
		.mapboxgl-popup {

		}
		
		#geocoder-container {
			position: absolute;
			top: 0;
			width: 240px;
			margin-top: 10px;
		}

		#geocoder-container > div {
			min-width:100%;
			margin-left:10px;
		}
		
		
		#pitch {
			writing-mode: bt-lr;
			-webkit-appearance: slider-vertical;
			align:center;
			padding-left: 8px;
			padding-right:8px;
			height: 125px;
			width: auto;
			background: transparent;
		}
		
		#toolbar {
			position: absolute;
			width: 50px;
			height: 200px;
			background: black;
			top: 265px;
			right: 10px;
			transform: translate(0);
			-webkit-transform: translate(60px);
			-moz-transform: translate(60px);
			-ms-transform: translate(60px);
			-webkit-transition: transform .35s;
			transition: transform .35s;
			-moz-transition: transform .35s;
			border-radius:4px;
			text-align:center;
			-moz-box-shadow: 1px 2px 2px rgba(0,0,0,0.1);
			-webkit-box-shadow: 1px 2px 2px rgba(0,0,0,0.1);
			box-shadow: 1px 2px 0px 2px rgba(0,0,0,0.1);
			
		}
		
		#toolbar #grabHandle {
			position: relative;
			width: 20px;
			height: 50px;
			background:rgba(0,0,0,1);
			top: 75px;
			cursor:pointer;
			left:-20px;
			border-top-left-radius:10px;
			border-bottom-left-radius:10px;
			color:white;
			border: 1px solid white;
		}
		
		#legend {
			position: absolute;
			width: 175px;
			height:auto;
			top:110px;
			left:10px;
			background: rgba(0,0,0,0.4);
			-moz-box-shadow: 1px 2px 2px rgba(0,0,0,0.1);
			-webkit-box-shadow: 1px 2px 2px rgba(0,0,0,0.1);
			box-shadow: 1px 2px 0px 2px rgba(0,0,0,0.1);
		}
		
		#legend .legendSquare {
			position: absolute;
			height: auto;
			width: 100%;
			left: 0;
			cursor:crosshair;
			text-align:center;
			padding-top:5px;
			padding-bottom:5px;
			color:white;
		}
		
		#sliderBox {
			height: 140px;
			position: absolute;
			top:110px;
			width: 30px;
			right: 10px;
			background: rgba(0,0,0,0.1);
			border-radius: 4px;
			border: 1px solid #ddd;
			-moz-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);
			-webkit-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);
			box-shadow: 0px 0px 0px 2px rgba(0,0,0,0.1);
		}
		
		#countyToggles {
			position: absolute;
			top: 60px;
			left: 10px;
			width: 240px;
			height:40px;
			background:transparent;
			border-radius:4px;
			-moz-box-shadow: 1px 2px 2px rgba(0,0,0,0.1);
			-webkit-box-shadow: 1px 2px 2px rgba(0,0,0,0.1);
			box-shadow: 1px 2px 0px 2px rgba(0,0,0,0.1);
		}
		
		#countyToggles .countyToggleBoxes {
			position:absolute;
			width:60px;
			height:100%;
			color: rgba(0,0,0,0.8);
			text-align: center;
			padding-top:2px;
			font-size: 15px;
			border:1px solid #ddd;
		}
		
		#countyWaterToggleBox {
			background: #fff;
			color: black;
			cursor: pointer;
		}
		
		#countyWetlandsToggleBox {
			background: grey;
			color: black;
			cursor: not-allowed;
		}
		
		#countyPointsToggleBox {
			background: grey;
			color: black;
			cursor: not-allowed;
		}
		
		#countyLinesToggleBox {
			background: grey;
			color: black;
			cursor: not-allowed;
		}
		
		#homePageBackground {
			position:absolute;
			top:0;
			left:0;
			height:100%;
			width:100%;
			opacity: 1;
			background: rgba(0,0,0,0.2);
			z-index:100;
			transform: translate(0);
			-webkit-transition: transform .35s;
			transition: transform .35s;
			-moz-transition: transform .35s;
		}
		
		#homePage {
			position: absolute;
			top: 20%;
			left: 25%;
			background: #fff;
			opacity: 1;
			width: 50%;
			height: 50%;
			z-index: 101;
			transform: translate(0);
			-webkit-transition: transform .35s;
			transition: transform .35s;
			-moz-transition: transform .35s;
		}
		
			
	</style>
</head>
<body>
	<div id='map'></div>
	<div id='geocoder-container'></div>
	
	<div id="sliderBox">
		<input type="range" name="pitch" id="pitch" value="0" min="0" max="60" defaultValue="0" onchange="updateSlider(this.id)" orient="vertical">
	</div>
	
	<div id='toolbar'>
		<div id='grabHandle' onclick="toggleToolbar()"><i id="grabHandleToggle" class="fa fa-angle-double-left" aria-hidden="true"></i></div>
		<div id='button01' style="position:absolute; height:50px; width: 50px; background:#fff; color:black; top:0; border-top-left-radius:4px; border-top-right-radius:4px; cursor:pointer; border:1px solid #ddd;" onclick="fullDisplay(this.id)">Full</div>
		<div id='button02' style="position:absolute; height:50px; width:50px; background:blue; color:white; top:50px; cursor:pointer; border: 1px solid #ddd;" onclick="selectByCounty(id)">County</div>
		<div id='button03' style="position:absolute; height:50px; width:50px; background:grey; color:black; top:100px; cursor:not-allowed; border: 1px solid #ddd;" onclick="displaySettingsMenu()"><i class="fa fa-cog" aria-hidden="true"></i></div>
		<div id='button04' style="position:absolute; height:50px; width:50px; background:grey; color: black; top:150px; border-bottom-left-radius:4px; border-bottom-right-radius:4px; cursor:not-allowed; border:1px solid #ddd;"></div>
	</div>
	
	<div id='legend'>
		<div id="A4" class="legendSquare" style="top:0; background: #EE7600; border: 1px solid #ddd; border-top-left-radius:4px; border-top-right-radius:4px;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">A4 - Tagalder, Willow, etc.</div>
		<div id="A3" class="legendSquare" style="top:30px; background:#FB9B9C; border: 1px solid #ddd;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">A3 - Swamp Hardwoods</div>
		<div id="B4" class="legendSquare" style="top:60px; background:#9B9CFB; border: 1px solid #ddd;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">B4 - Cat Tail Marsh</div>
		<div id="C4" class="legendSquare" style="top:90px; background:#CD69C9; border: 1px solid #ddd;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">C4 - Grass Marsh</div>
		<div id="C4b" class="legendSquare" style="top:120px; background:#99004D; border: 1px solid #ddd;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">C4b - Sedge Marsh</div>
		<div id="F4" class="legendSquare" style="top:150px; background:#2DA0BA; border: 1px solid #ddd;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">F4 - Cranberry Marsh</div>
		<div id="MF" class="legendSquare" style="top:180px; background:#435645; border: 1px solid #ddd;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">MF - Mud Flats</div>
		<div id="ER" class="legendSquare" style="top:210px; background:#9B9CFB; border: 1px solid #ddd; border-bottom-left-radius:4px; border-bottom-right-radius:4px;" onmouseover="displayLikeLegend(this.id)" onmouseout="resetLikeLegend(this.id)">ER - Erosion</div>
	</div>
	
	<div id="countyToggles">
		<div id="countyWetlandsToggleBox" class="countyToggleBoxes" style="left:0px; border-top-left-radius:4px; border-bottom-left-radius:4px;">Wetlands</div>
		<div id="countyWaterToggleBox" class="countyToggleBoxes" style="left:60px;" onclick="displayWater(this.id)">Water</div>
		<div id="countyPointsToggleBox" class="countyToggleBoxes" style="left:120px;">Points</div>
		<div id="countyLinesToggleBox" class="countyToggleBoxes" style="left:180px; border-top-right-radius:4px; border-bottom-right-radius:4px;">Lines</div>
	</div>
	<!--
	<div id="homePageBackground"></div>
	
	<div id="homePage"></div>
		<h1 onclick="homePageFunction()">Proceed to the map</h1>
	</div>
	-->
	
	
	<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v1.3.0/mapbox-gl-geocoder.js'></script>
	<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v1.3.0/mapbox-gl-geocoder.css' type='text/css' />
	<script src='js/define.js'></script>
	
	<script>
	
	mapboxgl.accessToken = 'pk.eyJ1IjoiYm9yZG5lcndsZWkiLCJhIjoiY2lyZjd1a2tyMDA3dmc2bmtkcjUzaG5meCJ9.eswxCZSAnob59HR0wEaTpA';
	
	var map = new mapboxgl.Map({
		container: 'map',
		style: 'mapbox://styles/bordnerwlei/cirf7wsrr0003g8nlogxrqxyr',
		center: [-89.5, 44.5],
		zoom: 6
	});
	
	map.addControl(new mapboxgl.Navigation());
	
	var geocoder = new mapboxgl.Geocoder({
		container: 'geocoder-container'
	});
	
	map.addControl(geocoder);
	
	map.on('load', function () {
		map.addSource('ashlandWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/ashland_wetlands.geojson'
		});
		
		map.addSource('bayfieldWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/bayfield_wetlands.geojson'
		});
		
		map.addSource('brownWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/brown_wetlands.geojson'
		});
		
		map.addSource('doorWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/door_wetlands.geojson'
		});
		
		map.addSource('douglasWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/douglas_wetlands.geojson'
		});
		
		map.addSource('ironWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/iron_wetlands.geojson'
		});
		
		map.addSource('kenoshaWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/kenosha_wetlands.geojson'
		});
		
		map.addSource('kewauneeWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/kewaunee_wetlands.geojson'
		});
		
		map.addSource('marinetteWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/marinette_wetlands.geojson'
		});
		
		map.addSource('ozaukeeWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/ozaukee_wetlands.geojson'
		});
		
		map.addSource('racineWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/racine_wetlands.geojson'
		});
		
		map.addSource('sheboyganWetlands', {
			'type': 'geojson',
			'data': 'data/wetlands/sheboygan_wetlands.geojson'
		});
		
		map.addSource('ashlandWater', {
			'type': 'geojson',
			'data': 'data/water/ashlandWater.geojson'
		});
		
		map.addSource('bayfieldWater', {
			'type': 'geojson',
			'data': 'data/water/bayfieldWater.geojson'
		});
		
		map.addSource('brownWater', {
			'type': 'geojson',
			'data': 'data/water/brownWater.geojson'
		});
		
		map.addSource('doorWater', {
			'type': 'geojson',
			'data': 'data/water/doorWater.geojson'
		});
		
		map.addSource('douglasWater', {
			'type': 'geojson',
			'data': 'data/water/douglasWater.geojson'
		});
		
		map.addSource('ironWater', {
			'type': 'geojson',
			'data': 'data/water/ironWater.geojson'
		});
		
		map.addSource('kenoshaWater', {
			'type': 'geojson',
			'data': 'data/water/kenoshaWater.geojson'
		});
		
		map.addSource('kewauneeWater', {
			'type': 'geojson',
			'data': 'data/water/kewauneeWater.geojson'
		});
		
		map.addSource('marinetteWater', {
			'type': 'geojson',
			'data': 'data/water/marinetteWater.geojson'
		});
		
		map.addSource('ozaukeeWater', {
			'type': 'geojson',
			'data': 'data/water/ozaukeeWater.geojson'
		});
		
		map.addSource('racineWater', {
			'type': 'geojson',
			'data': 'data/water/racineWater.geojson'
		});
		
		map.addSource('sheboyganWater', {
			'type': 'geojson',
			'data': 'data/water/sheboyganWater.geojson'
		});
		
		map.addSource('coastalCounties', {
			'type': 'geojson',
			'data': 'data/counties.geojson'
		});
		
		map.addSource('single-point', {
			'type': 'geojson',
			'data': {
				'type': 'FeatureCollection',
				'features': []
			}
		});
		
		map.addLayer({
			'id': 'county-fills',
			'type': 'fill',
			'source': 'coastalCounties',
			'layout': {
				'visibility': 'visible'
			},
			'paint': {
				'fill-color': '#f08',
				'fill-opacity': 0
			}
		});
		
		map.addLayer({
			'id': 'county-borders',
			'type': 'line',
			'source': 'coastalCounties',
			'layout': {
				'visibility': 'visible'
			},
			'paint': {
				'line-color': 'black',
				'line-width': 1
			}
		});
		
		map.addLayer({
			'id': 'county-hover',
			'type': 'fill',
			'source': 'coastalCounties',
			'layout': {
				'visibility': 'visible'
			},
			'paint': {
				'fill-color': '#f08',
				'fill-opacity': 1
			}
		});
		
		map.addLayer({
			'id': 'point',
			'source': 'single-point',
			'type': 'circle',
			'paint': {
				'circle-radius': 10,
				'circle-color': '#007cbf'
			}
		});
		

		
		
		var popup = new mapboxgl.Popup({
			closeButton: false,
			closeOnClick: false
		});
	
		map.on('mousemove', function(e) {
			var features = map.queryRenderedFeatures(e.point, { layers: hoverLayers });
			
			if (features.length && features[0].layer.id == "county-fills") {
				map.setFilter("county-hover", ["==", "COUNTY_NAM", features[0].properties.COUNTY_NAM]);
			} else if (features.length && features[0].layer.id != "county-fills") {
				var holdID = features[0].layer.id;
				/* OBJECTID */
			} else {
				map.setFilter("county-hover", ["==", "COUNTY_NAM", ""]);
			}
			
			map.getCanvas().style.cursor = (features.length) ? 'pointer' : '';
			
			if (!features.length) {
				popup.remove();
				return;
			}
		
			var feature = features[0];
			
			if (feature.layer.id == "county-fills") {
				popup.setLngLat(e.lngLat)
					.setHTML(feature.properties.COUNTY_NAM)
					.addTo(map);
			} else {
				popup.setLngLat(e.lngLat)
					.setHTML(feature.properties.Cov1)
					.addTo(map);
			}
		});
		
		map.on ('mouseout', function() {
				map.setFilter("county-hover", ["==", "COUNTY_NAM", ""]);
		});
		
		map.on ('click', function(e) {
			var features = map.queryRenderedFeatures(e.point, { layers: hoverLayers });
		
			var feature = features[0];
		
			if (features.length && feature.layer.id == "county-fills") {
				map.flyTo({
					center: e.lngLat,
					zoom: 8
				});
				
				map.setFilter("county-fills", ["!=", "COUNTY_NAM", feature.properties.COUNTY_NAM]);
					
				determineClick(feature);
			} else if (features.length && feature.layer.id != "county-fills") {
				var randomPitch = Math.floor((Math.random() * 40) + 25);
				map.flyTo({
					center: e.lngLat,
					zoom: 13,
					pitch: randomPitch,
					around: e.lngLat,
					animate: true
				});
				document.getElementById("pitch").value = 35;
			} else {
			
			}
					
		});
	});
	
	geocoder.on('result', function(ev) {
		map.getSource('single-point').setData(ev.result.geometry);
	});
	
	
		
	
	function determineClick(feature) {
		var t;
		try {
			for (t=0; t < tempLayers.length; t++) {
				try {
					map.removeLayer(tempLayers[t]);
				} catch (err) {
					return;
				}
			}
		} catch (err) {
			return;
		}
		tempLayers.length = 0;
		currentLayers.length = 0;
		
		var clickedCountyName = feature.properties.COUNTY_NAM;
		var i;
		for (i = 0; i < countyNames.length; i++) {
			if (clickedCountyName == countyNames[i]) {
				displayWetlands(countyIDArr[i], feature);
			} else {
	
			}
		}
	};
	
	
	function displayWetlands(source, feature) {
		var hold = currentLayers.indexOf(source);
		var a4cover = source + "A4";
		var a3cover = source + "A3";
		var b4cover = source + "B4";
		var c4cover = source + "C4";
		var c4bcover = source + "C4b";
		var f4cover = source + "F4";
		var mfcover = source + "MF";
		var ercover = source + "ER";
		
		if (hold == -1) {
			map.addLayer({
				'id': a4cover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'A4'],
				'paint': {
					'fill-color': '#EE7600',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(a4cover);
			tempLayers.push(a4cover);
			
			map.addLayer({
				'id': a3cover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'A3'],
				'paint': {
					'fill-color': '#FB9B9C',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(a3cover);
			tempLayers.push(a3cover);
			
			map.addLayer({
				'id': b4cover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'B4'],
				'paint': {
					'fill-color': '#9B9CFB',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(b4cover);
			tempLayers.push(b4cover);
			
			map.addLayer({
				'id': c4cover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'C4'],
				'paint': {
					'fill-color': '#CD69C9',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(c4cover);
			tempLayers.push(c4cover);
			
			map.addLayer({
				'id': c4bcover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'C4b'],
				'paint': {
					'fill-color': '#99004D',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(c4bcover);
			tempLayers.push(c4bcover);
			
			map.addLayer({
				'id': f4cover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'F4'],
				'paint': {
					'fill-color': '#2DA0BA',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(f4cover);
			tempLayers.push(f4cover);
			
			map.addLayer({
				'id': mfcover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'MF'],
				'paint': {
					'fill-color': '#435645',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(mfcover);
			tempLayers.push(mfcover);
			
			map.addLayer({
				'id': ercover,
				'type': 'fill',
				'source': source,
				'layout': {
					'visibility': 'visible'
				},
				'filter': ['==', 'Cov1', 'ER'],
				'paint': {
					'fill-color': '#9B9CFB',
					'fill-opacity': 0.5
				}
			}, 'water');
			hoverLayers.push(ercover);
			tempLayers.push(ercover);
			
			currentLayers.push(source);
		} else if (hold >= 0) {
			return;
		}
	};
	
	function updateSlider(x) {
		var valueHold = document.getElementById(x).value;
		map.setPitch(valueHold);
	};
	
	var toolbarControl = 0;
	function toggleToolbar() {
		if (toolbarControl == 0) {
			document.getElementById("toolbar").style.transform = "translate(0)";
			document.getElementById("grabHandleToggle").className = "fa fa-angle-double-right";
			toolbarControl = 1;
			return toolbarControl;
		} else if (toolbarControl > 0) {
			document.getElementById("toolbar").style.transform = "";
			document.getElementById("grabHandleToggle").className = "fa fa-angle-double-left";
			toolbarControl = 0;
			return toolbarControl;
		}
	};
	
	
	function fullDisplay(id) {
		if (fullDisplayControl == false) {
			fullDisplayControl = true;
			selectByCountyControl = false;
		
			map.setLayoutProperty("county-fills", "visibility", "none");
			/*map.setLayoutProperty("county-borders", "visibility", "none");*/
			map.setLayoutProperty("county-hover", "visibility", "none");
		
			document.getElementById(id).style.background = "blue";
			document.getElementById(id).style.color = "white";
			document.getElementById("button02").style.background = "#fff";
			document.getElementById("button02").style.color = "black";
		
		
			var z;
			for (z=0; z < countyIDArr.length; z++) {
				displayWetlands(countyIDArr[z]);
			}
		} else if (fullDisplayControl == true) {
			alert("already selected");
		}
	};
	
	function selectByCounty(id) {
		if (selectByCountyControl == false) {
			selectByCountyControl = true;
			fullDisplayControl = false;
		
			document.getElementById(id).style.background = "blue";
			document.getElementById(id).style.color = "white";
			document.getElementById("button01").style.background = "#fff";
			document.getElementById("button01").style.color = "black";
		
		
			var x;
			try {
				for (x=0; x < tempLayers.length; x++) {
					try {
						map.removeLayer(tempLayers[x]);
					} catch (err) {
						return;
					}
				}
			} catch (err) {
				return;
			}
		
			map.setLayoutProperty("county-fills", "visibility", "visible");
			map.setLayoutProperty("county-hover", "visibility", "visible");
		
			currentLayers.length = 0;
			tempLayers.length = 0;
		} else if (selectByCountyControl == true) {
			alert("already selected");
		}
	};
	
	
	function displaySettingsMenu() {
		alert('display settings menu enabled');
	};
	
	
	function displayLikeLegend(id) {
		document.getElementById(id).style.border = "2px solid white";
		
		var spaceHolder = wetlandsLegend.indexOf(id);
		wetlandsLegendHolder = wetlandsLegend[spaceHolder];
		var b;
		try {
			for (b=0; b < tempLayers.length; b++) {
				var c;
				for (c=0; c < countyIDArr.length; c++) {
					try {
						var nameHolder = countyIDArr[c] + wetlandsLegendHolder;
						if (tempLayers[b] == nameHolder) {
							map.setLayoutProperty(nameHolder, "visibility", "visible");
						} else if (tempLayers[b] != nameHolder) {
							console.log(nameHolder);
							map.setLayoutProperty(tempLayers[b], "visibility", "none");
							map.setLayoutProperty(nameHolder, "visibility", "visible");
							tempMouseOverArr.push(tempLayers[b]);
						}
					} catch (err) {
						console.log(err);
					}
				}
			}
		} catch (err) {
			console.log("bleh");
		}
	};
	
	function resetLikeLegend(id) {
		document.getElementById(id).style.border = "1px solid #ddd";
		
		var b;
		try {
			for (b=0; b < tempMouseOverArr.length; b++) {
				map.setLayoutProperty(tempMouseOverArr[b], "visibility", "visible");
			}
			tempMouseOverArr.length = 0;
		} catch (err) {
		
		}
	};
	
	var displayWaterControl = 0;
	function displayWater(id) {
		if (displayWaterControl == 0) {
			var n;
			for (n=0; n < waterIDArr.length; n++) {
				map.addLayer({
				'id': waterIDArr[n],
				'type': 'fill',
				'source': waterIDArr[n],
				'layout': {
					'visibility': 'visible'
				},
				'paint': {
					'fill-color': '#004878',
					'fill-opacity': 0.5
				}
			});
			tempWaterLayers.push(waterIDArr[n]);
			}
			displayWaterControl = 1;
			document.getElementById(id).style.background = "#004878";
			document.getElementById(id).style.color = "#fff";
			return displayWaterControl;
		} else if (displayWaterControl > 0) {
			var m;
			for (m=0; m < tempWaterLayers.length; m++) {
				map.removeLayer(tempWaterLayers[m]);
			}
			tempWaterLayers.length = 0;
			displayWaterControl = 0;
			document.getElementById(id).style.background = "";
			document.getElementById(id).style.color = "";
			return displayWaterControl;
		}
	
	};
	
	function homePageFunction() {
		document.getElementById("homePageBackground").style.transform = "translate(100%)";
		document.getElementById("homePage").style.transform = "translate(100%)";
	};
	
	</script>
</body>
</html>
